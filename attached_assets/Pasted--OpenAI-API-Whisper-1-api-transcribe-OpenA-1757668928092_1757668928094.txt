๐๏ธ ุชุนูููุงุช ูููุทูุฑ: ุงุณุชุจุฏุงู OpenAI API ุจู Whisper ูุญูู
1. ุงููุฏู

ุญุงููุงู /api/transcribe ูุณุชุนูู OpenAI API โ ูุฑุฌุน ุฎุทุฃ (429 insufficient_quota).

ุงููุทููุจ: ุชุนุฏูู ุงูููุฏ ููุณุชุฎุฏู Whisper ูุญูู (ุจุงูุซูู) ููุนุงูุฌุฉ ุงูุตูุช ูุจุงุดุฑุฉ ุฏุงุฎู Replit.

2. ุฅุนุฏุงุฏ ุจูุฆุฉ Replit

ูู ุงูู Shell ุฏุงุฎู Replitุ ุซุจูุช ููุชุจุฉ Whisper:

pip install openai-whisper torch


ุชุฃูุฏ ุฃูู ุจุงูุซูู ููุนูู (Replit ูุณูุญ ูู ุชุณุชุนูู Node + Python ูุน ุจุนุถ).

3. ุฅูุดุงุก ุณูุฑุจุช Whisper ูุญูู

ุฃูุดุฆ ููู ุฌุฏูุฏ ุจุงุณู: transcribe.py

ุงูุตู ููู ุงูููุฏ ุงูุชุงูู:

import sys
import whisper

# ุชุญููู ุงูููุฏูู (base = ุฎููู ูุณุฑูุน)
model = whisper.load_model("base")

# ุงุณุชูุงู ูุณุงุฑ ุงูููู ุงูุตูุชู ูู Node.js
audio_path = sys.argv[1]

# ุชูููุฐ ุงูุชูุฑูุบ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
result = model.transcribe(audio_path, language="ar")

# ุทุจุงุนุฉ ุงููุต ูููุฑุฃู Node.js
print(result["text"])

4. ุชุนุฏูู ุงูุณูุฑูุฑ (server.js)

ุงุณุชุจุฏู ุงูููุฏ ุงูุฎุงุต ุจุงุณุชุฏุนุงุก OpenAI API ุฏุงุฎู /api/transcribe

ุถุนู ุจูุฐุง ุงูุดูู:

import { spawn } from "child_process";
import fs from "fs";
import express from "express";
import multer from "multer";

const app = express();
const upload = multer({ dest: "uploads/" });

app.post("/api/transcribe", upload.single("file"), (req, res) => {
  const filePath = req.file.path;

  // ุงุณุชุฏุนุงุก ุณูุฑุจุช ุจุงูุซูู ูุชุดุบูู Whisper ูุญูู
  const py = spawn("python3", ["transcribe.py", filePath]);

  let result = "";
  py.stdout.on("data", (data) => {
    result += data.toString();
  });

  py.stderr.on("data", (data) => {
    console.error("Whisper error:", data.toString());
  });

  py.on("close", () => {
    fs.unlinkSync(filePath); // ุชูุธูู ุงูููู ุจุนุฏ ุงูุงุณุชุฎุฏุงู
    res.json({ text: result.trim() });
  });
});

// ุจุงูู ุฅุนุฏุงุฏุงุช ุงูุณูุฑูุฑ (summarize ูุบูุฑู)

5. ุงูุชุญูู

ุดุบูู ุงูุณูุฑูุฑ:

npm run server


ุงูุชุญ ุงูุชุทุจูู ูุณุฌูู ุจุงูุตูุช โ ูุงุฒู ุชุฑุฌุน ุงุณุชุฌุงุจุฉ ูููุง ุงููุต ุงูููุฑูุบ ูู Whisper ุงููุญูู.

6. ููุงุญุธุงุช ูุงูุฉ

Whisper base ุณุฑูุน ููููู ูุจุฏุงูุฉ. ูููู ุชุบููุฑู ูู "small" ุฃู "medium" ุฅุฐุง ุฃุฑุฏุช ุฏูุฉ ุฃุนูู.

ูุงุฒู ุงูุณูุฑูุฑ ูุจูู ูุดุบูู ุจุงูุซูู ุจุดูู ุตุญูุญ (Replit ูุณูุญ ุจูุฐุง).

ุฅุฐุง ุงูุตูุช ุทูููุ Whisper ูุฏ ูุฃุฎุฐ ุจุนุถ ุงูููุช โ ูููู ูุถูู loader ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ.